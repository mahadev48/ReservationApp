<!DOCTYPE html>
<html lang="en">
<head>
  <title>Reservation Form</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>
<body>
 
<div id="reservation" class="container col-sm-6 col-md-6" style="position:absolute;top:30%;left:24%;">
  

  <div class="panel panel-primary">
    <div class="panel-heading">Reservation Form</div>
    <div class="panel-body">
      <form>
   	<div class="form-group">
    		<label for="username">Email:</label>
    		<input type = "text" id="email" class="form-control" name = "email">
  	</div>
  	<div class="form-group">
    		<label for="phoneno">Phone No.:</label>
    		<input type = "text" id="phoneno" class="form-control" name = "phoneno">
  	</div>
	<div class="form-group">
    		<label for="guests">No. of guests:</label>
    		<input type = "text" id="guests" class="form-control" name = "guests">
  	</div>
	<div class="form-group">
    		<label for="timereservation">Time of reservation:</label>
    		<input type = "date" id="timereservation" class="form-control" name = "timereservation">
  	</div>
	<div class="form-group">
    		<label for="comments">Comments:</label>
    		<input type = "text" id="comments" class="form-control" name = "comments">
  	</div>
   	<button type="submit" class="btn btn-danger" value="submit" id="reserve">Submit</button>
      </form>
   </body>

    </div>
  </div>
</div>
</body>

<script>
$('#reserve').click(function(){
					
					var data = {};
					data.email = $('#email').val();
					data.phone = $('#phoneno').val();
					data.noofguests = $('#guests').val();
					data.reservationtime = $('#timereservation').val();
					data.comments = $('#comments').val();
					
					$.ajax({
						type: 'POST',
						data: JSON.stringify(data),
				        contentType: 'application/json',
                        url: 'http://localhost:3000/api/reservation/setReservationDetails',						
                        success: function(data) {
                            console.log('success');
							$('#reservation').html('<div class="alert alert-success"><strong>Success!</strong> Indicates a successful or positive action.</div>');
                            console.log(JSON.stringify(data));
                        },
						error: function(data) {
                            console.log('fail');
                            console.log(JSON.stringify(data));
                        }
                    });

	});
</script>
</html>